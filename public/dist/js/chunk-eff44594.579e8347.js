(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eff44594"],{"4a34":function(e,t,r){},"7f7f":function(e,t,r){var n=r("86cc").f,o=Function.prototype,a=/^\s*function ([^ (]*)/,i="name";i in o||r("9e1e")&&n(o,i,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},a55b:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login"},[r("el-form",{ref:"ruleForm",staticClass:"ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"name"}},[r("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"pwd"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.pwd,callback:function(t){e.$set(e.ruleForm,"pwd",t)},expression:"ruleForm.pwd"}})],1),r("input",{ref:"img",attrs:{type:"file",name:"file[]",multiple:"multiple",accept:".jpeg,.jpg,.png"},on:{change:e.readAsDataURL}}),r("el-button",{attrs:{type:"primary"},on:{click:e.test}},[e._v("test")]),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("登录")]),r("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},o=[],a=(r("7f7f"),{name:"Login",data:function(){var e=function(e,t,r){""===t?r(new Error("请输入密码")):r()},t=function(e,t,r){""===t?r(new Error("请输入用户名")):r()};return{ruleForm:{name:"koa",pwd:"123456"},rules:{pwd:[{validator:e,trigger:"blur"}],name:[{validator:t,trigger:"blur"}]},token:"",imageUrl:""}},methods:{test:function(){this.axios("testAuth",{token:this.token,name:this.ruleForm.name,pwd:this.$md5(this.ruleForm.pwd)}).then(function(e){console.log(e)})},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)},readAsDataURL:function(){var e=this.$refs.img.files,t=new FormData;for(var r in e)t.append("file[]",e[r]);t.append("token",this.token),this.axios("/upload",t,!1,!0,{"Content-Type":"multipart/form-data"}).then(function(e){console.log(e)})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.msg({type:"error",msg:"请输入用户名和密码"}),!1;t.axios("login",{name:t.ruleForm.name,pwd:t.$md5(t.ruleForm.pwd)}).then(function(e){t.token=e.data.token,sessionStorage.setItem("user",JSON.stringify(e.data)),console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields()}},created:function(){var e=sessionStorage.getItem("user");e&&(this.token=JSON.parse(e).token),console.log(this.token)}}),i=a,s=(r("f5df"),r("2877")),l=Object(s["a"])(i,n,o,!1,null,"098cbdc5",null);l.options.__file="Login.vue";t["default"]=l.exports},f5df:function(e,t,r){"use strict";var n=r("4a34"),o=r.n(n);o.a}}]);